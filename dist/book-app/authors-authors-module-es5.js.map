{"version":3,"sources":["webpack:///src/app/authors/authors-routing.module.ts","webpack:///src/app/authors/authors.module.ts","webpack:///src/app/authors/components/authors/authors.component.ts","webpack:///src/app/authors/components/authors/authors.component.html","webpack:///src/app/authors/services/authors.service.ts"],"names":["routes","path","component","redirectTo","AuthorsRoutingModule","forChild","imports","exports","AuthorsModule","declarations","AuthorsComponent","authorsService","route","authors","authorPageQuantity","displayedColumns","destroy$","params","pipe","subscribe","authors$","getAuthorsInPage","number","data","console","log","meta","pages","next","complete","templateUrl","styleUrls","AuthorService","http","apiUrl","authorsEndpoint","page","get","authorId","author","url","post","id","put","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,SADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,EAKrB;AACED,YAAI,EAAE,IADR;AAEEE,kBAAU,EAAE;AAFd,OALqB,CAAvB;;UAgBaC,oB;;;;;cAAAA;;;;2BAAAA,oB;AAAoB,S;AAAA,kBAHtB,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CAGsB,EAFrB,4DAEqB;;;;4HAApBI,oB,EAAoB;AAAA;AAAA,oBAFrB,4DAEqB;AAAA,S;AAFT,O;;;;;wEAEXA,oB,EAAoB;gBAJhC,sDAIgC;iBAJvB;AACRE,mBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERO,mBAAO,EAAE,CAAC,4DAAD;AAFD,W;AAIuB,U;;;;;;;;;;;;;;;;;;ACrBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA4BaC,a;;;;;cAAAA;;;;2BAAAA,a;AAAa,S;AAAA,kBAXf,CACP,4DADO,EAEP,qEAFO,EAGP,kEAHO,EAIP,sEAJO,EAKP,+EALO,EAMP,8EANO,EAOP,sEAPO,EAQP,4EARO,CAWe;;;;4HAAbA,a,EAAa;AAAA,yBAbtB,sFAasB;AAbN,oBAGhB,4DAHgB,EAIhB,qEAJgB,EAKhB,kEALgB,EAMhB,sEANgB,EAOhB,+EAPgB,EAQhB,8EARgB,EAShB,sEATgB,EAUhB,4EAVgB;AAaM,S;AAHF,O;;;;;wEAGXA,a,EAAa;gBAfzB,sDAeyB;iBAfhB;AACRC,wBAAY,EAAE,CACZ,sFADY,CADN;AAIRH,mBAAO,EAAE,CACP,4DADO,EAEP,qEAFO,EAGP,kEAHO,EAIP,sEAJO,EAKP,+EALO,EAMP,8EANO,EAOP,sEAPO,EAQP,4EARO;AAJD,W;AAegB,U;;;;;;;;;;;;;;;;;;AC5B1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACGM;;AAAuC;;AAAE;;;;;;AACzC;;AAAuC;;AAAc;;;;;;AAAd;;AAAA;;;;;;AAIvC;;AAAuC;;AAAU;;;;;;AACjD;;AAAuC;;AAAsB;;;;;;AAAtB;;AAAA;;;;;;AAIvC;;AAAuC;;AAAS;;;;;;AAChD;;AAAuC;;AAAqB;;;;;;AAArB;;AAAA;;;;;;AAGzC;;;;;;;;;;AACA;;;;;;AACA;;;;UDJSI,gB;AAWX,kCACUC,cADV,EAEUC,KAFV,EAE+B;AAAA;;AADrB,eAAAD,cAAA,GAAAA,cAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AAXH,eAAAC,OAAA,GAAqB,EAArB;AACA,eAAAC,kBAAA,GAA6B,CAA7B;AAIA,eAAAC,gBAAA,GAA6B,CAAC,GAAD,EAAM,WAAN,EAAmB,UAAnB,CAA7B;AAEC,eAAAC,QAAA,GAAW,IAAI,kDAAJ,CAAuB,CAAvB,CAAX;AAKD;;;;qCAEQ;AAAA;;AACb,iBAAKJ,KAAL,CAAWK,MAAX,CACGC,IADH,CACQ,iEAAU,KAAKF,QAAf,CADR,EAEGG,SAFH,CAEa,UAACF,MAAD,EAAY;AACrB,mBAAI,CAACG,QAAL,GAAgB,KAAI,CAACT,cAAL,CAAoBU,gBAApB,CAAqCJ,MAAM,CAACK,MAA5C,CAAhB;AACD,aAJH;AAKA,iBAAKF,QAAL,CACGF,IADH,CACQ,iEAAU,KAAKF,QAAf,CADR,EAEGG,SAFH,CAEa,UAACI,IAAD,EAAU;AACnB,mBAAI,CAACV,OAAL,GAAeU,IAAI,CAACV,OAApB;AACAW,qBAAO,CAACC,GAAR,CAAY,KAAI,CAACZ,OAAjB;AACA,mBAAI,CAACC,kBAAL,GAA0BS,IAAI,CAACG,IAAL,CAAUC,KAApC;AACD,aANH;AAOD;;;wCACiB;AAChB,iBAAKX,QAAL,CAAcY,IAAd,CAAmB,IAAnB;AACA,iBAAKZ,QAAL,CAAca,QAAd;AACD;;;;;;;yBAjCUnB,gB,EAAgB,wI,EAAA,+H;AAAA,O;;;cAAhBA,gB;AAAgB,qC;AAAA,iB;AAAA,e;AAAA,2c;AAAA;AAAA;ACf7B;;AAEI;;AACE;;AACA;;AACF;;AAEA;;AACE;;AACA;;AACF;;AAEA;;AACE;;AACA;;AACF;;AAEA;;AACA;;AAEF;;;;AApBe;;AAiBM;;AAAA;;AACP;;AAAA;;;;;;;;;wEDHHA,gB,EAAgB;gBAJ5B,uDAI4B;iBAJlB;AACToB,uBAAW,EAAE,0BADJ;AAETC,qBAAS,EAAE,CAAC,0BAAD;AAFF,W;AAIkB,U;;;;;;;;;;;;;;;;;;;;;;;;AEf7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaC,a;AAKX,+BAAoBC,IAApB,EAAsC;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAHZ,eAAAC,MAAA,GAAS,gCAAT;AACA,eAAAC,eAAA,GAAkB,SAAlB;AAEiC;;;;2CAEjBC,I,EAAY;AAClC,mBAAO,KAAKH,IAAL,CAAUI,GAAV,WAA2B,KAAKH,MAAhC,SAAyC,KAAKC,eAA9C,mBAAsEC,IAAtE,EAAP;AACD;;;wCACoBE,Q,EAAgB;AACnC,mBAAO,KAAKL,IAAL,CAAUI,GAAV,WAA0B,KAAKH,MAA/B,SAAwC,KAAKC,eAA7C,cAAgEG,QAAhE,EAAP;AACD;;;uCACmBC,M,EAAe;AACjC,gBAAMC,GAAG,aAAM,KAAKN,MAAX,SAAoB,KAAKC,eAAzB,CAAT;AAEA,mBAAO,KAAKF,IAAL,CAAUQ,IAAV,CAAwBD,GAAxB,EAA6BD,MAA7B,CAAP;AACD;;;uCACmBA,M,EAAe;AACjC,gBAAMC,GAAG,aAAM,KAAKN,MAAX,SAAoB,KAAKC,eAAzB,cAA4CI,MAAM,CAACG,EAAnD,CAAT;AAEA,mBAAO,KAAKT,IAAL,CAAUU,GAAV,CAAuBH,GAAvB,EAA4BD,MAA5B,CAAP;AACD;;;uCACmBD,Q,EAAgB;AAClC,mBAAO,KAAKL,IAAL,qBAA6B,KAAKC,MAAlC,SAA2C,KAAKC,eAAhD,cAAmEG,QAAnE,EAAP;AACD;;;;;;;yBAzBUN,a,EAAa,uH;AAAA,O;;;eAAbA,a;AAAa,iBAAbA,aAAa,K;AAAA,oBAFZ;;;;;wEAEDA,a,EAAa;gBAHzB,wDAGyB;iBAHd;AACVY,sBAAU,EAAE;AADF,W;AAGc,U","file":"authors-authors-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthorsComponent } from './components/authors/authors.component';\n\nconst routes: Routes = [\n  {\n    path: ':number',\n    component: AuthorsComponent,\n  },\n  {\n    path: '**',\n    redirectTo: '1',\n  },\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthorsRoutingModule {\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatTableModule } from '@angular/material/table';\n\nimport { AuthorsRoutingModule } from './authors-routing.module';\nimport { AuthorsComponent } from './components/authors/authors.component';\n\n@NgModule({\n  declarations: [\n    AuthorsComponent,\n  ],\n  imports: [\n    CommonModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    MatInputModule,\n    MatFormFieldModule,\n    MatPaginatorModule,\n    MatTableModule,\n    AuthorsRoutingModule,\n  ],\n})\nexport class AuthorsModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ReplaySubject, Observable } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { AuthorService } from '../../services/authors.service';\n\nimport { IAuthor, IAuthors } from './../../interfaces/author';\n\n\n@Component({\n  templateUrl: './authors.component.html',\n  styleUrls: ['./authors.component.scss'],\n})\nexport class AuthorsComponent implements OnInit, OnDestroy {\n\n  public authors: IAuthor[] = [];\n  public authorPageQuantity: number = 0;\n\n  public authors$: Observable<IAuthors>;\n\n  public displayedColumns: string[] = ['#', 'firstname', 'lastname'];\n\n  private destroy$ = new ReplaySubject<any>(1);\n\n  constructor(\n    private authorsService: AuthorService,\n    private route: ActivatedRoute,\n    ) { }\n\n  public ngOnInit(): void {\n    this.route.params\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((params) => {\n        this.authors$ = this.authorsService.getAuthorsInPage(params.number);\n      });\n    this.authors$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((data) => {\n        this.authors = data.authors;\n        console.log(this.authors)\n        this.authorPageQuantity = data.meta.pages;\n      });\n  }\n  public ngOnDestroy(): void {\n    this.destroy$.next(null);\n    this.destroy$.complete();\n  }\n\n}\n","<table mat-table [dataSource]=\"authors\" class=\"mat-elevation-z8\">\n\n    <ng-container matColumnDef=\"#\">\n      <th mat-header-cell *matHeaderCellDef> # </th>\n      <td mat-cell *matCellDef=\"let author\"> {{author.id}} </td>\n    </ng-container>\n  \n    <ng-container matColumnDef=\"firstname\">\n      <th mat-header-cell *matHeaderCellDef> FIRSTNAME </th>\n      <td mat-cell *matCellDef=\"let author\"> {{author.first_name}} </td>\n    </ng-container>\n  \n    <ng-container matColumnDef=\"lastname\">\n      <th mat-header-cell *matHeaderCellDef> LASTNAME </th>\n      <td mat-cell *matCellDef=\"let author\"> {{author.last_name}} </td>\n    </ng-container>\n    \n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let author; columns: displayedColumns;\" \n    [routerLink]=\"['author', author.id]\"></tr>\n  </table>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Observable } from 'rxjs';\n\nimport { IAuthor, IAuthors } from '../interfaces/author';\n\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthorService {\n\n  private apiUrl = 'http://muzhikov.kubesh.ru/api/';\n  private authorsEndpoint = 'authors';\n\n  constructor(private http: HttpClient) { }\n\n  public getAuthorsInPage(page: number): Observable<IAuthors> {\n    return this.http.get<IAuthors>(`${this.apiUrl}${this.authorsEndpoint}?page=${page}`);\n  }\n  public getAuthorById(authorId: number): Observable<object> {\n    return this.http.get<IAuthor>(`${this.apiUrl}${this.authorsEndpoint}/${authorId}`);\n  }\n  public createAuthor(author: IAuthor): Observable<object> {\n    const url = `${this.apiUrl}${this.authorsEndpoint}`;\n\n    return this.http.post<IAuthor>(url, author);\n  }\n  public updateAuthor(author: IAuthor): Observable<object> {\n    const url = `${this.apiUrl}${this.authorsEndpoint}/${author.id}`;\n\n    return this.http.put<IAuthor>(url, author);\n  }\n  public deleteAuthor(authorId: number): Observable<object> {\n    return this.http.delete<IAuthor>(`${this.apiUrl}${this.authorsEndpoint}/${authorId}`);\n  }\n\n\n}"]}